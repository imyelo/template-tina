# Snapshot report for `test/test.js`

The actual snapshot is saved in `test.js.snap`.

Generated by [AVA](https://ava.li).

## defaults

> generated files

    [
      '.babelrc',
      '.browserslistrc',
      '.editorconfig',
      '.gitattributes',
      '.gitignore',
      '.vscode/setting.json',
      'README.md',
      'package.json',
      'postcss.config.js',
      'prettier.config.js',
      'project.config.json',
      'src/app.mina',
      'src/components/author.mina',
      'src/pages/home.mina',
      'src/store/index.js',
      'src/store/modules/items.js',
      'src/store/types.js',
      'webpack.config.js',
    ]

> content of .babelrc

    `{␊
      "presets": [␊
        ["@babel/preset-env", {␊
          "modules": false,␊
          "loose": true␊
        }]␊
      ],␊
      "plugins": [␊
        ["@babel/plugin-transform-runtime", {␊
          "corejs": 2␊
        }],␊
        "@babel/plugin-proposal-class-properties",␊
        "@babel/plugin-proposal-export-default-from"␊
      ]␊
    }␊
    `

> content of .browserslistrc

    `iOS 8␊
    ChromeAndroid 53␊
    `

> content of .editorconfig

    `root = true␊
    ␊
    [*]␊
    charset = utf-8␊
    indent_style = space␊
    indent_size = 2␊
    end_of_line = lf␊
    insert_final_newline = true␊
    trim_trailing_whitespace = true␊
    `

> content of .gitattributes

    `# GitLab␊
    # https://docs.gitlab.com/ee/user/project/highlighting.html␊
    *.wxml gitlab-language=xml␊
    *.wxss gitlab-language=css␊
    *.wxs gitlab-language=js␊
    *.mina gitlab-language=html␊
    ␊
    # GitHub␊
    # https://github.com/github/linguist#overrides␊
    *.wxml linguist-language=xml␊
    *.wxss linguist-language=css␊
    *.wxs linguist-language=js␊
    *.mina linguist-language=html␊
    `

> content of .gitignore

    `# dev␊
    .DS_Store␊
    node_modules␊
    npm-debug.log␊
    ␊
    # build␊
    /dist␊
    `

> content of .vscode/setting.json

    `{␊
      "files.associations": {␊
        "*.wxml": "xml",␊
        "*.wxss": "css",␊
        "*.wxs": "js",␊
        "*.mina": "vue"␊
      }␊
    }␊
    `

> content of README.md

    `# foo␊
    > bar␊
    ␊
    ## License␊
    MIT &copy; baz␊
    `

> content of package.json

    `{␊
      "name": "foo",␊
      "private": true,␊
      "version": "0.0.1",␊
      "description": "bar",␊
      "author": "baz",␊
      "scripts": {␊
        "clean": "rimraf './dist/!(app.json)**'",␊
        "prestart": "run-s clean",␊
        "prebuild": "run-s clean",␊
        "start": "webpack --watch --progress",␊
        "build": "cross-env NODE_ENV=production webpack"␊
      },␊
      "dependencies": {␊
        "@tinajs/tina": "^1.4.0",␊
        "@tinajs/tina-loading": "^0.2.0",␊
        "@tinajs/tina-modal": "^0.2.0",␊
        "@tinajs/tina-router": "^0.3.1",␊
        "@tinajs/tinax": "^0.1.2",␊
        "es6-promise": "^4.1.1",␊
        "keymirror": "^0.1.1",␊
        "uniq": "^1.0.1",␊
        "wxio": "^0.1.0"␊
      },␊
      "devDependencies": {␊
        "@babel/core": "^7.1.0",␊
        "@babel/plugin-proposal-class-properties": "^7.1.0",␊
        "@babel/plugin-proposal-export-default-from": "^7.0.0",␊
        "@babel/plugin-transform-runtime": "^7.1.0",␊
        "@babel/preset-env": "^7.1.0",␊
        "@babel/runtime-corejs2": "^7.0.0",␊
        "@tinajs/mina-entry-webpack-plugin": "^1.0.0",␊
        "@tinajs/mina-loader": "^1.0.0",␊
        "@tinajs/mina-runtime-webpack-plugin": "^1.0.0",␊
        "@tinajs/wxml-loader": "^0.3.0-fork.0",␊
        "babel-loader": "^8.0.4",␊
        "cross-env": "^5.1.1",␊
        "file-loader": "^1.1.5",␊
        "npm-run-all": "^4.1.2",␊
        "postcss-loader": "^2.1.3",␊
        "postcss-px2units": "^0.1.1",␊
        "postcss-url": "^7.3.1",␊
        "precss": "^2.0.0",␊
        "relative-file-loader": "^1.1.12",␊
        "rimraf": "^2.6.2",␊
        "webpack": "^4.16.0",␊
        "webpack-cli": "^3.1.0"␊
      }␊
    }␊
    `

> content of postcss.config.js

    `module.exports = {␊
      plugins: [␊
        require('precss')(),␊
        require('postcss-url')({ url: 'inline' }),␊
        require('postcss-px2units')({ comment: 'NO_RPX' }),␊
      ],␊
    }␊
    `

> content of prettier.config.js

    `// @see https://prettier.io/docs/en/options.html␊
    module.exports = {␊
      semi: false,␊
      singleQuote: true,␊
      trailingComma: 'es5',␊
    }␊
    `

> content of project.config.json

    `{␊
      "miniprogramRoot": "./dist",␊
      "compileType": "miniprogram",␊
      "setting": {␊
        "es6": false,␊
        "postcss": false,␊
        "minified": false,␊
        "uglifyFileName": false,␊
        "newFeature": true␊
      },␊
      "appid": "",␊
      "projectname": "foo"␊
    }␊
    `

> content of src/app.mina

    `<config>␊
    {␊
      "pages": [␊
        "pages/home.mina"␊
      ]␊
    }␊
    </config>␊
    ␊
    <script>␊
    import Tina from '@tinajs/tina'␊
    import modal from '@tinajs/tina-modal'␊
    import loading from '@tinajs/tina-loading'␊
    import router from '@tinajs/tina-router'␊
    ␊
    Tina.use(modal)␊
    Tina.use(loading)␊
    Tina.use(router)␊
    ␊
    App({␊
    })␊
    </script>␊
    `

> content of src/components/author.mina

    `<config>␊
    {␊
      "component": true␊
    }␊
    </config>␊
    ␊
    <template>␊
      <view> baz </view>␊
    </template>␊
    ␊
    <script>␊
    import { Component } from '@tinajs/tina'␊
    ␊
    Component.define({␊
    ␊
    })␊
    </script>␊
    `

> content of src/pages/home.mina

    `<config>␊
    {␊
      "usingComponents": {␊
        "author": "../components/author.mina"␊
      }␊
    }␊
    </config>␊
    ␊
    <style>␊
    </style>␊
    ␊
    <template>␊
      <view>␊
        <author />␊
      </view>␊
    </template>␊
    ␊
    <script>␊
    import { Page } from '@tinajs/tina'␊
    import { tinax } from '../store'␊
    ␊
    Page.define({␊
      mixins: [␊
        tinax.connect({␊
          state ({ items }) {␊
            return {␊
              items,␊
            }␊
          },␊
          getters ({ getItem }) {␊
            return {␊
              item: getItem()(this.$route.query.id || 0),␊
            }␊
          },␊
          actions ({ setItem }) {␊
            return {␊
              setItem,␊
            }␊
          }␊
        }),␊
      ],␊
    })␊
    </script>␊
    `

> content of src/store/index.js

    `import Tinax from '@tinajs/tinax'␊
    ␊
    import items from './modules/items'␊
    ␊
    export const tinax = new Tinax({␊
      modules: {␊
        items,␊
      },␊
    })␊
    `

> content of src/store/modules/items.js

    `import uniq from 'uniq'␊
    import types from '../types'␊
    ␊
    const initialState = []␊
    ␊
    const getters = {␊
      getItem: (state) => (id) => state.find((item) => item.id === id) || { id, loading: true },␊
    }␊
    ␊
    const actions = {␊
      setItem ({ commit, state }, { id, value }) {␊
        commit(types.SET_ITEM, { item: { id, value } })␊
      },␊
    }␊
    ␊
    const mutations = {␊
      [types.SET_ITEM] (state, { item }) {␊
        return uniq([ ...state, item ], (l, r) => l.id === r.id ? 0 : -1)␊
      },␊
    }␊
    ␊
    export default {␊
      state: initialState,␊
      getters,␊
      actions,␊
      mutations,␊
    }␊
    `

> content of src/store/types.js

    `import km from 'keymirror'␊
    ␊
    export default km({␊
      SET_ITEM: null,␊
    })␊
    `

> content of webpack.config.js

    `const { resolve } = require('path')␊
    const webpack = require('webpack')␊
    const MinaEntryPlugin = require('@tinajs/mina-entry-webpack-plugin')␊
    const MinaRuntimePlugin = require('@tinajs/mina-runtime-webpack-plugin')␊
    ␊
    const isProduction = process.env.NODE_ENV === 'production'␊
    ␊
    const loaders = {␊
      script: 'babel-loader',␊
      style: {␊
        loader: 'postcss-loader',␊
        options: {␊
          config: {␊
            path: resolve('./postcss.config.js'),␊
          },␊
        },␊
      },␊
    }␊
    ␊
    module.exports = {␊
      context: resolve('src'),␊
      entry: './app.mina',␊
      output: {␊
        path: resolve('dist'),␊
        filename: '[name]',␊
        publicPath: '/',␊
        globalObject: 'wx',␊
      },␊
      module: {␊
        rules: [␊
          {␊
            test: /\\.mina$/,␊
            exclude: /node_modules/,␊
            use: [␊
              {␊
                loader: '@tinajs/mina-loader',␊
                options: {␊
                  loaders,␊
                },␊
              },␊
            ],␊
          },␊
          {␊
            test: /\\.mina$/,␊
            include: /node_modules/,␊
            use: '@tinajs/mina-loader',␊
          },␊
          {␊
            test: /\\.js$/,␊
            exclude: /node_modules/,␊
            use: loaders.script,␊
          },␊
          {␊
            test: /\\.(css|wxss)$/,␊
            exclude: /node_modules/,␊
            use: loaders.style,␊
          },␊
          {␊
            test: /\\.(png|jpg|jpeg|gif|svg)$/,␊
            use: {␊
              loader: 'file-loader',␊
              options: {␊
                name: 'assets/[name].[hash:6].[ext]',␊
              },␊
            },␊
          },␊
          {␊
            test: /\\.wxs$/,␊
            use: {␊
              loader: 'relative-file-loader',␊
              options: {␊
                name: 'wxs/[name].[hash:6].[ext]',␊
              },␊
            },␊
          },␊
          {␊
            test: /\\.wxml$/,␊
            use: [{␊
              loader: 'relative-file-loader',␊
              options: {␊
                name: 'wxml/[name].[hash:6].[ext]',␊
              },␊
            }, '@tinajs/wxml-loader'],␊
          },␊
        ],␊
      },␊
      resolve: {␊
        symlinks: true,␊
      },␊
      plugins: [␊
        new webpack.EnvironmentPlugin({␊
          NODE_ENV: 'development',␊
          DEBUG: false,␊
        }),␊
        new MinaEntryPlugin(),␊
        new MinaRuntimePlugin(),␊
      ],␊
      optimization: {␊
        splitChunks: {␊
          name: 'common.js',␊
          minChunks: 2,␊
          minSize: 0,␊
        },␊
        runtimeChunk: {␊
          name: 'runtime.js',␊
        },␊
      },␊
      mode: isProduction ? 'production' : 'none',␊
    }␊
    `
