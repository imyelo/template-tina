# Snapshot report for `test/test.js`

The actual snapshot is saved in `test.js.snap`.

Generated by [AVA](https://ava.li).

## defaults

> generated files

    [
      '.babelrc',
      '.editorconfig',
      '.gitignore',
      'README.md',
      'package.json',
      'postcss.config.js',
      'src/app.mina',
      'src/components/author.mina',
      'src/pages/home.mina',
      'src/store/index.js',
      'src/store/modules/items.js',
      'src/store/types.js',
      'webpack.config.babel.js',
    ]

> content of .babelrc

    `{␊
      "presets": [␊
        [␊
          "env",␊
          {␊
            "target": {␊
              "node": "7"␊
            }␊
          }␊
        ]␊
      ]␊
    }␊
    `

> content of .editorconfig

    `root = true␊
    ␊
    [*]␊
    charset = utf-8␊
    indent_style = space␊
    indent_size = 2␊
    end_of_line = lf␊
    insert_final_newline = true␊
    trim_trailing_whitespace = true␊
    `

> content of .gitignore

    `# dev␊
    .DS_Store␊
    node_modules␊
    npm-debug.log␊
    ␊
    # build␊
    /dist␊
    `

> content of README.md

    `# foo␊
    > bar␊
    ␊
    ## License␊
    MIT &copy; baz␊
    `

> content of package.json

    `{␊
      "name": "foo",␊
      "private": true,␊
      "version": "0.0.1",␊
      "description": "bar",␊
      "author": "baz",␊
      "scripts": {␊
        "clean": "rimraf './dist/!(app.json)**'",␊
        "prestart": "run-s clean",␊
        "prebuild": "run-s clean",␊
        "start": "webpack -w",␊
        "build": "cross-env NODE_ENV=production webpack"␊
      },␊
      "dependencies": {␊
        "@tinajs/tina": "^1.0.0",␊
        "@tinajs/tina-router": "^0.1.0",␊
        "@tinajs/tinax": "^0.1.0",␊
        "es6-promise": "^4.1.1",␊
        "keymirror": "^0.1.1",␊
        "uniq": "^1.0.1"␊
      },␊
      "devDependencies": {␊
        "@tinajs/mina-entry-webpack-plugin": "^0.5.0",␊
        "@tinajs/mina-loader": "^0.4.0",␊
        "@tinajs/mina-runtime-webpack-plugin": "^0.1.2",␊
        "babel": "^6.23.0",␊
        "babel-core": "^6.26.0",␊
        "babel-loader": "^7.1.2",␊
        "babel-preset-env": "^1.6.1",␊
        "cross-env": "^5.1.1",␊
        "file-loader": "^1.1.5",␊
        "npm-run-all": "^4.1.2",␊
        "postcss-loader": "^2.0.9",␊
        "precss": "^2.0.0",␊
        "rimraf": "^2.6.2",␊
        "uglifyjs-webpack-plugin": "^1.1.2",␊
        "url-loader": "^0.6.2",␊
        "webpack": "^3.8.1"␊
      }␊
    }␊
    `

> content of postcss.config.js

    `module.exports = {␊
      plugins: [␊
        require('precss')(),␊
      ],␊
    }␊
    `

> content of src/app.mina

    `<config>␊
    {␊
      "pages": [␊
        "pages/home.mina"␊
      ]␊
    }␊
    </config>␊
    ␊
    <script>␊
    import { Page, Component } from '@tinajs/tina'␊
    import createRouterMixin from '@tinajs/tina-router'␊
    ␊
    const router = createRouterMixin()␊
    ␊
    Page.mixin(router)␊
    Component.mixin(router)␊
    ␊
    App({␊
    })␊
    </script>␊
    `

> content of src/components/author.mina

    `<config>␊
    {␊
      "component": true␊
    }␊
    </config>␊
    ␊
    <template>␊
      <view> baz </view>␊
    </template>␊
    ␊
    <script>␊
    import { Component } from '@tinajs/tina'␊
    ␊
    Component.define({␊
    ␊
    })␊
    </script>␊
    `

> content of src/pages/home.mina

    `<config>␊
    {␊
      "usingComponents": {␊
        "m-author": "components/author.mina"␊
      }␊
    }␊
    </config>␊
    ␊
    <style>␊
    </style>␊
    ␊
    <template>␊
      <view>␊
        <author />␊
      </view>␊
    </template>␊
    ␊
    <script>␊
    import { Page } from '@tinajs/tina'␊
    import { tinax } from '../store'␊
    ␊
    Page.define({␊
      mixins: [␊
        tinax.connect({␊
          state ({ items }) {␊
            return {␊
              items,␊
            }␊
          },␊
          getters ({ getItem }) {␊
            return {␊
              item: getItem()(this.$route.query.id || 0),␊
            }␊
          },␊
          actions ({ setItem }) {␊
            return {␊
              setItem,␊
            }␊
          }␊
        }),␊
      ],␊
    })␊
    </script>␊
    `

> content of src/store/index.js

    `import Tinax from '@tinajs/tinax'␊
    ␊
    import items from './modules/items'␊
    ␊
    export const tinax = new Tinax({␊
      modules: {␊
        items,␊
      },␊
    })␊
    `

> content of src/store/modules/items.js

    `import uniq from 'uniq'␊
    import types from '../types'␊
    ␊
    const initialState = []␊
    ␊
    const getters = {␊
      getItem: (state) => (id) => state.find((item) => item.id === id) || { id, loading: true },␊
    }␊
    ␊
    const actions = {␊
      setItem ({ commit, state }, { id, value }) {␊
        commit(types.SET_ITEM, { item: { id, value } })␊
      },␊
    }␊
    ␊
    const mutations = {␊
      [types.SET_ITEM] (state, { item }) {␊
        return uniq([ ...state, item ], (l, r) => l.id === r.id ? 0 : -1)␊
      },␊
    }␊
    ␊
    export default {␊
      state: initialState,␊
      getters,␊
      actions,␊
      mutations,␊
    }␊
    `

> content of src/store/types.js

    `import km from 'keymirror'␊
    ␊
    export default km({␊
      SET_ITEM: null,␊
    })␊
    `

> content of webpack.config.babel.js

    `import { resolve } from 'path'␊
    import webpack from 'webpack'␊
    import MinaEntryPlugin from '@tinajs/mina-entry-webpack-plugin'␊
    import MinaRuntimePlugin from '@tinajs/mina-runtime-webpack-plugin'␊
    import UglifyJsPlugin from 'uglifyjs-webpack-plugin'␊
    ␊
    const isProduction = process.env.NODE_ENV === 'production'␊
    ␊
    export default {␊
      context: resolve('src'),␊
      entry: './app.mina',␊
      output: {␊
        path: resolve('dist'),␊
        filename: '[name]',␊
        publicPath: '/',␊
      },␊
      module: {␊
        rules: [␊
          {␊
            test: /\\.js$/,␊
            exclude: /node_modules/,␊
            use: 'babel-loader',␊
          },␊
          {␊
            test: /\\.mina$/,␊
            exclude: /node_modules/,␊
            use: [{␊
              loader: '@tinajs/mina-loader',␊
              options: {␊
                loaders: {␊
                  script: 'babel-loader',␊
                  style: {␊
                    loader: 'postcss-loader',␊
                    options: {␊
                      config: {␊
                        path: resolve('./postcss.config.js'),␊
                      },␊
                    },␊
                  },␊
                },␊
              },␊
            }],␊
          },␊
          {␊
            test: /\\.mina$/,␊
            include: /node_modules/,␊
            use: '@tinajs/mina-loader',␊
          },␊
          {␊
            test: /\\.png$/,␊
            use: {␊
              loader: "file-loader",␊
              options: {␊
                name: 'assets/[name].[hash:6].[ext]',␊
              },␊
            },␊
          },␊
        ],␊
      },␊
      resolve: {␊
        symlinks: true,␊
      },␊
      plugins: [␊
        new webpack.EnvironmentPlugin({␊
          NODE_ENV: 'development',␊
          DEBUG: false,␊
        }),␊
        new MinaEntryPlugin(),␊
        new MinaRuntimePlugin({␊
          runtime: './common.js',␊
        }),␊
        new webpack.optimize.CommonsChunkPlugin({␊
          name: 'common.js',␊
          minChunks: 2,␊
        }),␊
        isProduction && new UglifyJsPlugin(),␊
      ].filter(Boolean),␊
    }␊
    `
